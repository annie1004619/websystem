
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>선택한 도시와 음식 보여주기</title>
<style>
div {
	display : inline-block;
	width : 200px;
	border : 1px solid yellowgreen;
	padding-left : 10px;
}
</style>
<script>
//storage 이벤트 리스너 등록
window.addEventListener("storage", storageEventListener, false);

//이벤트 처리 함수 작성 - show()호출
function storageEventListener(e){
	show();
}

function show() {
	//local storage  지원하지 않으면 -> alert, return
	if(!window.localStorage){
		alert("세션스토리지를 지원하지 않습니다.");
		return;}
	//id="msg"인 <div>객체 가져오기
	var obj = document.getElementById("msg");
	//div 내용 초기화
	obj.innerHTML = "";
	//key = val의 형태로 localstorage 개수만큼 출력 (마지막줄은 줄바꿈 없음)
	for(var i=0;i<localStorage.length;i++){
		var key = localStorage.key(i);
		var val = localStorage.getItem(key);
		if(i==localStorage.length-1)
			obj.innerHTML+=(key+"="+val);
		else
			obj.innerHTML+=(key+"="+val)+"<br>";
	}
	
	
	
	
	
}
</script>
</head>
<body onload=show()>
<h3>선택한 도시와 음식 보여주기</h3>
<hr>
<div id="msg">
아무것도 선택하지 않았습니다.
</div>
</body>
</html>
